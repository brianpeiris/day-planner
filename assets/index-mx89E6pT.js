(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}})();(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&t(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&t(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();const Ne=(e,n)=>e===n,Oe=Symbol("solid-track"),Y={equals:Ne};let we=ke;const H=1,Z=2,_e={owned:null,cleanups:null,context:null,owner:null};var b=null;let se=null,$=null,S=null,T=null,re=0;function Q(e,n){const t=$,r=b,o=e.length===0,i=n===void 0?r:n,l=o?_e:{owned:null,cleanups:null,context:i?i.context:null,owner:i},s=o?e:()=>e(()=>X(()=>oe(l)));b=l,$=null;try{return R(s,!0)}finally{$=t,b=r}}function P(e,n){n=n?Object.assign({},Y,n):Y;const t={value:e,observers:null,observerSlots:null,comparator:n.equals||void 0},r=o=>(typeof o=="function"&&(o=o(t.value)),xe(t,o));return[Ae.bind(t),r]}function j(e,n,t){const r=ae(e,n,!1,H);K(r)}function Se(e,n,t){we=He;const r=ae(e,n,!1,H);(!t||!t.render)&&(r.user=!0),T?T.push(r):K(r)}function J(e,n,t){t=t?Object.assign({},Y,t):Y;const r=ae(e,n,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=t.equals||void 0,K(r),Ae.bind(r)}function X(e){if($===null)return e();const n=$;$=null;try{return e()}finally{$=n}}function Te(e){Se(()=>X(e))}function Xe(e){return b===null||(b.cleanups===null?b.cleanups=[e]:b.cleanups.push(e)),e}function Ae(){if(this.sources&&this.state)if(this.state===H)K(this);else{const e=S;S=null,R(()=>te(this),!1),S=e}if($){const e=this.observers?this.observers.length:0;$.sources?($.sources.push(this),$.sourceSlots.push(e)):($.sources=[this],$.sourceSlots=[e]),this.observers?(this.observers.push($),this.observerSlots.push($.sources.length-1)):(this.observers=[$],this.observerSlots=[$.sources.length-1])}return this.value}function xe(e,n,t){let r=e.value;return(!e.comparator||!e.comparator(r,n))&&(e.value=n,e.observers&&e.observers.length&&R(()=>{for(let o=0;o<e.observers.length;o+=1){const i=e.observers[o],l=se&&se.running;l&&se.disposed.has(i),(l?!i.tState:!i.state)&&(i.pure?S.push(i):T.push(i),i.observers&&Pe(i)),l||(i.state=H)}if(S.length>1e6)throw S=[],new Error},!1)),n}function K(e){if(!e.fn)return;oe(e);const n=re;De(e,e.value,n)}function De(e,n,t){let r;const o=b,i=$;$=b=e;try{r=e.fn(n)}catch(l){return e.pure&&(e.state=H,e.owned&&e.owned.forEach(oe),e.owned=null),e.updatedAt=t+1,Le(l)}finally{$=i,b=o}(!e.updatedAt||e.updatedAt<=t)&&(e.updatedAt!=null&&"observers"in e?xe(e,r):e.value=r,e.updatedAt=t)}function ae(e,n,t,r=H,o){const i={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:n,owner:b,context:b?b.context:null,pure:t};return b===null||b!==_e&&(b.owned?b.owned.push(i):b.owned=[i]),i}function ee(e){if(e.state===0)return;if(e.state===Z)return te(e);if(e.suspense&&X(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<re);)e.state&&n.push(e);for(let t=n.length-1;t>=0;t--)if(e=n[t],e.state===H)K(e);else if(e.state===Z){const r=S;S=null,R(()=>te(e,n[0]),!1),S=r}}function R(e,n){if(S)return e();let t=!1;n||(S=[]),T?t=!0:T=[],re++;try{const r=e();return Be(t),r}catch(r){t||(T=null),S=null,Le(r)}}function Be(e){if(S&&(ke(S),S=null),e)return;const n=T;T=null,n.length&&R(()=>we(n),!1)}function ke(e){for(let n=0;n<e.length;n++)ee(e[n])}function He(e){let n,t=0;for(n=0;n<e.length;n++){const r=e[n];r.user?e[t++]=r:ee(r)}for(n=0;n<t;n++)ee(e[n])}function te(e,n){e.state=0;for(let t=0;t<e.sources.length;t+=1){const r=e.sources[t];if(r.sources){const o=r.state;o===H?r!==n&&(!r.updatedAt||r.updatedAt<re)&&ee(r):o===Z&&te(r,n)}}}function Pe(e){for(let n=0;n<e.observers.length;n+=1){const t=e.observers[n];t.state||(t.state=Z,t.pure?S.push(t):T.push(t),t.observers&&Pe(t))}}function oe(e){let n;if(e.sources)for(;e.sources.length;){const t=e.sources.pop(),r=e.sourceSlots.pop(),o=t.observers;if(o&&o.length){const i=o.pop(),l=t.observerSlots.pop();r<o.length&&(i.sourceSlots[l]=r,o[r]=i,t.observerSlots[r]=l)}}if(e.owned){for(n=e.owned.length-1;n>=0;n--)oe(e.owned[n]);e.owned=null}if(e.cleanups){for(n=e.cleanups.length-1;n>=0;n--)e.cleanups[n]();e.cleanups=null}e.state=0}function ze(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Le(e,n=b){throw ze(e)}const qe=Symbol("fallback");function ve(e){for(let n=0;n<e.length;n++)e[n]()}function je(e,n,t={}){let r=[],o=[],i=[],l=0,s=n.length>1?[]:null;return Xe(()=>ve(i)),()=>{let c=e()||[],h,u;return c[Oe],X(()=>{let g=c.length,a,w,m,L,M,d,x,k,C;if(g===0)l!==0&&(ve(i),i=[],r=[],o=[],l=0,s&&(s=[])),t.fallback&&(r=[qe],o[0]=Q(D=>(i[0]=D,t.fallback())),l=1);else if(l===0){for(o=new Array(g),u=0;u<g;u++)r[u]=c[u],o[u]=Q(A);l=g}else{for(m=new Array(g),L=new Array(g),s&&(M=new Array(g)),d=0,x=Math.min(l,g);d<x&&r[d]===c[d];d++);for(x=l-1,k=g-1;x>=d&&k>=d&&r[x]===c[k];x--,k--)m[k]=o[x],L[k]=i[x],s&&(M[k]=s[x]);for(a=new Map,w=new Array(k+1),u=k;u>=d;u--)C=c[u],h=a.get(C),w[u]=h===void 0?-1:h,a.set(C,u);for(h=d;h<=x;h++)C=r[h],u=a.get(C),u!==void 0&&u!==-1?(m[u]=o[h],L[u]=i[h],s&&(M[u]=s[h]),u=w[u],a.set(C,u)):i[h]();for(u=d;u<g;u++)u in m?(o[u]=m[u],i[u]=L[u],s&&(s[u]=M[u],s[u](u))):o[u]=Q(A);o=o.slice(0,l=g),r=c.slice(0)}return o});function A(g){if(i[u]=g,s){const[a,w]=P(u);return s[u]=w,n(c[u],a)}return n(c[u])}}}function N(e,n){return X(()=>e(n||{}))}const Ie=e=>`Stale read from <${e}>.`;function le(e){const n="fallback"in e&&{fallback:()=>e.fallback};return J(je(()=>e.each,e.children,n||void 0))}function We(e){const n=e.keyed,t=J(()=>e.when,void 0,{equals:(r,o)=>n?r===o:!r==!o});return J(()=>{const r=t();if(r){const o=e.children;return typeof o=="function"&&o.length>0?X(()=>o(n?r:()=>{if(!X(t))throw Ie("Show");return e.when})):o}return e.fallback},void 0,void 0)}function Fe(e,n,t){let r=t.length,o=n.length,i=r,l=0,s=0,c=n[o-1].nextSibling,h=null;for(;l<o||s<i;){if(n[l]===t[s]){l++,s++;continue}for(;n[o-1]===t[i-1];)o--,i--;if(o===l){const u=i<r?s?t[s-1].nextSibling:t[i-s]:c;for(;s<i;)e.insertBefore(t[s++],u)}else if(i===s)for(;l<o;)(!h||!h.has(n[l]))&&n[l].remove(),l++;else if(n[l]===t[i-1]&&t[s]===n[o-1]){const u=n[--o].nextSibling;e.insertBefore(t[s++],n[l++].nextSibling),e.insertBefore(t[--i],u),n[o]=t[i]}else{if(!h){h=new Map;let A=s;for(;A<i;)h.set(t[A],A++)}const u=h.get(n[l]);if(u!=null)if(s<u&&u<i){let A=l,g=1,a;for(;++A<o&&A<i&&!((a=h.get(n[A]))==null||a!==u+g);)g++;if(g>u-s){const w=n[l];for(;s<u;)e.insertBefore(t[s++],w)}else e.replaceChild(t[s++],n[l++])}else l++;else n[l++].remove()}}}const ge="_$DX_DELEGATE";function Je(e,n,t,r={}){let o;return Q(i=>{o=i,n===document?e():O(n,e(),n.firstChild?null:void 0,t)},r.owner),()=>{o(),n.textContent=""}}function ie(e,n,t){let r;const o=()=>{const l=document.createElement("template");return l.innerHTML=e,t?l.content.firstChild.firstChild:l.content.firstChild},i=n?()=>X(()=>document.importNode(r||(r=o()),!0)):()=>(r||(r=o())).cloneNode(!0);return i.cloneNode=i,i}function fe(e,n=window.document){const t=n[ge]||(n[ge]=new Set);for(let r=0,o=e.length;r<o;r++){const i=e[r];t.has(i)||(t.add(i),n.addEventListener(i,Re))}}function B(e,n){n==null?e.removeAttribute("class"):e.className=n}function ue(e,n,t,r){if(r)Array.isArray(t)?(e[`$$${n}`]=t[0],e[`$$${n}Data`]=t[1]):e[`$$${n}`]=t;else if(Array.isArray(t)){const o=t[0];e.addEventListener(n,t[0]=i=>o.call(e,t[1],i))}else e.addEventListener(n,t)}function Ke(e,n,t){return X(()=>e(n,t))}function O(e,n,t,r){if(t!==void 0&&!r&&(r=[]),typeof n!="function")return ne(e,n,r,t);j(o=>ne(e,n(),o,t),r)}function Re(e){const n=`$$${e.type}`;let t=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==t&&Object.defineProperty(e,"target",{configurable:!0,value:t}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}});t;){const r=t[n];if(r&&!t.disabled){const o=t[`${n}Data`];if(o!==void 0?r.call(t,o,e):r.call(t,e),e.cancelBubble)return}t=t._$host||t.parentNode||t.host}}function ne(e,n,t,r,o){for(;typeof t=="function";)t=t();if(n===t)return t;const i=typeof n,l=r!==void 0;if(e=l&&t[0]&&t[0].parentNode||e,i==="string"||i==="number")if(i==="number"&&(n=n.toString()),l){let s=t[0];s&&s.nodeType===3?s.data=n:s=document.createTextNode(n),t=I(e,t,r,s)}else t!==""&&typeof t=="string"?t=e.firstChild.data=n:t=e.textContent=n;else if(n==null||i==="boolean")t=I(e,t,r);else{if(i==="function")return j(()=>{let s=n();for(;typeof s=="function";)s=s();t=ne(e,s,t,r)}),()=>t;if(Array.isArray(n)){const s=[],c=t&&Array.isArray(t);if(ce(s,n,t,o))return j(()=>t=ne(e,s,t,r,!0)),()=>t;if(s.length===0){if(t=I(e,t,r),l)return t}else c?t.length===0?me(e,s,r):Fe(e,t,s):(t&&I(e),me(e,s));t=s}else if(n.nodeType){if(Array.isArray(t)){if(l)return t=I(e,t,r,n);I(e,t,null,n)}else t==null||t===""||!e.firstChild?e.appendChild(n):e.replaceChild(n,e.firstChild);t=n}}return t}function ce(e,n,t,r){let o=!1;for(let i=0,l=n.length;i<l;i++){let s=n[i],c=t&&t[i],h;if(!(s==null||s===!0||s===!1))if((h=typeof s)=="object"&&s.nodeType)e.push(s);else if(Array.isArray(s))o=ce(e,s,c)||o;else if(h==="function")if(r){for(;typeof s=="function";)s=s();o=ce(e,Array.isArray(s)?s:[s],Array.isArray(c)?c:[c])||o}else e.push(s),o=!0;else{const u=String(s);c&&c.nodeType===3&&c.data===u?e.push(c):e.push(document.createTextNode(u))}}return o}function me(e,n,t=null){for(let r=0,o=n.length;r<o;r++)e.insertBefore(n[r],t)}function I(e,n,t,r){if(t===void 0)return e.textContent="";const o=r||document.createTextNode("");if(n.length){let i=!1;for(let l=n.length-1;l>=0;l--){const s=n[l];if(o!==s){const c=s.parentNode===e;!i&&!l?c?e.replaceChild(o,s):e.insertBefore(o,t):c&&s.remove()}else i=!0}}else e.insertBefore(o,t);return[o]}function Ce(e,n){const t=Math.floor(e),r=Math.floor((e-t)*60);return t&&r||n!=null&&n.full?`${t}h ${r}m`:t===0?`${r}m`:`${t}h`}function Ee(e,n){const t=Math.floor(e),r=Math.floor((e-t)*60),o=t.toString().padStart(2,"0"),i=r.toString().padStart(2,"0");if(n!=null&&n.seconds){const l=Math.floor((e-t-r/60)*60*60).toString().padStart(2,"0");return`${o}:${i}:${l}`}else return`${o}:${i}`}const Ue="_block_1gr8m_1",Ge="_moving_1gr8m_13",Qe="_handleTarget_1gr8m_17",Ve="_handle_1gr8m_17",Ye="_resizing_1gr8m_35",Ze="_time_1gr8m_42",et="_name_1gr8m_43",q={block:Ue,moving:Ge,handleTarget:Qe,handle:Ve,resizing:Ye,time:Ze,name:et},tt=ie("<div><span></span><div><div></div></div><span>");function ye(e,n){return Math.round(e/n)*n}function nt(e){const[n,t]=P(!1),[r,o]=P(!1),[i,l]=P({startPos:0,startX:0}),[s,c]=P({startWidth:0,startX:0});function h(a){l({startPos:e.pos,startX:a.clientX}),t(!0),e.onStartChange()}function u(a){a.stopPropagation(),c({startWidth:e.width,startX:a.clientX}),o(!0),e.onStartChange()}function A(a){if(n()){const{startPos:w,startX:m}=i(),L=Math.min(e.maxPos,Math.max(0,w+a.clientX-m));e.onChange(ye(L,e.step),e.width)}else if(r()){const{startWidth:w,startX:m}=s(),L=Math.min(e.maxWidth,Math.max(e.step,w+a.clientX-m));e.onChange(e.pos,ye(L,e.step))}}function g(){t(!1),o(!1)}return window.addEventListener("pointerup",g),window.addEventListener("pointermove",A),(()=>{const a=tt(),w=a.firstChild,m=w.nextSibling,L=m.firstChild,M=m.nextSibling;return ue(a,"dblclick",e.onRemove,!0),ue(a,"pointermove",e.onHover,!0),a.$$pointerdown=h,O(w,()=>e.name),O(a,(()=>{const d=J(()=>e.duration>.25);return()=>d()?Ce(e.duration):""})(),m),m.$$pointerdown=d=>d.stopPropagation(),L.$$pointerdown=u,O(M,()=>Ee(e.start)),j(d=>{const x=`${q.block} ${n()?q.moving:""} ${r()?q.resizing:""}`,k=`${e.pos}px`,C=`${e.width}px`,D=q.name,U=q.handleTarget,W=q.handle,G=q.time;return x!==d._v$&&B(a,d._v$=x),k!==d._v$2&&((d._v$2=k)!=null?a.style.setProperty("left",k):a.style.removeProperty("left")),C!==d._v$3&&((d._v$3=C)!=null?a.style.setProperty("width",C):a.style.removeProperty("width")),D!==d._v$4&&B(w,d._v$4=D),U!==d._v$5&&B(m,d._v$5=U),W!==d._v$6&&B(L,d._v$6=W),G!==d._v$7&&B(M,d._v$7=G),d},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0}),a})()}fe(["pointerdown","pointermove","dblclick"]);const rt="_timelineContainer_o0zof_1",ot="_timeline_o0zof_1",it="_tick_o0zof_14",st="_nowLine_o0zof_27",V={timelineContainer:rt,timeline:ot,tick:it,nowLine:st},lt=ie("<div>"),ut=ie("<div><div></div><div></div><div></div><div></div><form><input></form><button>delete");let ct=0;function $e(e){return(()=>{const n=lt();return O(n,()=>e.hour),j(t=>{const r=`${V.tick} ${e.class?e.class:""}`,o=`${e.pos}px`;return r!==t._v$&&B(n,t._v$=r),o!==t._v$2&&((t._v$2=o)!=null?n.style.setProperty("left",o):n.style.removeProperty("left")),t},{_v$:void 0,_v$2:void 0}),n})()}function be(e){return Math.round(e*4)/4}function at(e){return Math.floor(e*4)/4}function ft(e){let n;const[t,r]=P(0),[o,i]=P(0),[l,s]=P(),[c,h]=P(0),[u,A]=P(""),[g,a]=e.blocks,w=()=>e.endHour-e.startHour,m=()=>t()/w();function L(){r(n.clientWidth),D()}window.addEventListener("resize",L),Te(L);function M(p){a(f=>[...f.filter(v=>v!==p),p])}function d(p,f,v){const[_,E]=p;E({..._(),start:be(f/m()),duration:be(v/m())}),D()}function x(p){a(f=>f.filter(v=>v!==p))}function k(p){const[f]=p,v=()=>f().start*m(),_=()=>f().duration*m();return N(nt,{get id(){return f().id},get step(){return m()/4},get name(){return f().name},get start(){return f().start},get duration(){return f().duration},get pos(){return v()},get width(){return _()},get maxPos(){return t()-_()},get maxWidth(){return t()-v()},onStartChange:()=>M(p),onHover:()=>M(p),onChange:(E,z)=>d(p,E,z),onRemove:()=>x(p)})}function C(p){let f;for(const v of g()){const[_]=v;_().start>p&&(!f||_().start<f.start)&&(f=_())}return f}function D(){const p=new Date,f=p.getHours(),v=p.getMinutes(),_=p.getSeconds(),E=f+v/60+_/60/60,z=E/24*t();i(z),h(E),s(C(E))}setInterval(D,1e3);function U(p){let[,f,v]=p.trim().match(/(.+) ([0-9.]+)/i)||[];f||(f=p.trim());const _=v!=null&&v.trim()?v==="15"?.25:v==="30"?.5:parseFloat(v):1;return[f,_]}function W(p,f){if(!p)return;const[v,_]=U(p);a(E=>[...E,P({id:ct++,name:v,start:f,duration:_})])}function G(p=0){W(prompt(),p)}return(()=>{const p=ut(),f=p.firstChild,v=f.nextSibling,_=v.nextSibling,E=_.nextSibling,z=E.nextSibling,de=z.firstChild,Me=z.nextSibling;f.$$pointerdown=y=>{y.target===y.currentTarget&&y.buttons===2&&G(at(y.offsetX/t()*24))},f.$$contextmenu=y=>y.preventDefault();const pe=n;return typeof pe=="function"?Ke(pe,f):n=f,O(f,N(We,{get when(){return t()!==0},get children(){return[N(le,{get each(){return Array.from({length:w()})},children:(y,F)=>N($e,{get hour(){return F()},get pos(){return F()*m()}})}),N(le,{get each(){return g()},children:k}),N($e,{get pos(){return o()},get class(){return V.nowLine}})]}})),O(v,()=>Ee(c(),{seconds:!0})),O(_,()=>{var y;return(y=l())==null?void 0:y.name}),O(E,(()=>{const y=J(()=>!!l());return()=>y()?Ce(l().start-c(),{full:!0}):""})()),z.addEventListener("submit",y=>{y.preventDefault(),W(u(),0),A("")}),de.addEventListener("change",y=>A(y.target.value)),ue(Me,"click",e.onDelete,!0),j(y=>{const F=V.timelineContainer,he=V.timeline;return F!==y._v$3&&B(p,y._v$3=F),he!==y._v$4&&B(f,y._v$4=he),y},{_v$3:void 0,_v$4:void 0}),j(()=>de.value=u()),p})()}fe(["contextmenu","pointerdown","click"]);const dt=ie("<button>Add");function pt(){const e=(()=>{const l=new URLSearchParams(window.location.search).get("timelines");return l?JSON.parse(atob(l)).map(s=>({blocks:P(s.blocks.map(c=>P({id:c.id,name:c.name,start:c.start,duration:c.duration})))})):[]})(),[n,t]=P(e);function r(){t([...n(),{blocks:P([])}])}function o(){return JSON.stringify(n().map(l=>{const[s]=l.blocks;return{blocks:s().map(([c])=>c())}}))}function i(l){t(n().filter(s=>s!==l))}return Se(()=>{history.replaceState({},"",`?timelines=${encodeURIComponent(btoa(o()))}`)}),[(()=>{const l=dt();return l.$$click=r,l})(),N(le,{get each(){return n()},children:l=>N(ft,{startHour:0,endHour:24,get blocks(){return l.blocks},onDelete:()=>i(l)})})]}fe(["click"]);const ht=document.getElementById("root");Je(()=>N(pt,{}),ht);
