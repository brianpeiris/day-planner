(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();const ft=(e,t)=>e===t,at=Symbol("solid-track"),se={equals:ft};let Xe=qe;const U=1,oe=2,Ue={owned:null,cleanups:null,context:null,owner:null};var C=null;let ge=null,p=null,P=null,F=null,de=0;function re(e,t){const n=p,i=C,r=e.length===0,s=t===void 0?i:t,l=r?Ue:{owned:null,cleanups:null,context:s?s.context:null,owner:s},o=r?e:()=>e(()=>X(()=>he(l)));C=l,p=null;try{return Y(o,!0)}finally{p=n,C=i}}function E(e,t){t=t?Object.assign({},se,t):se;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},i=r=>(typeof r=="function"&&(r=r(n.value)),Je(n,r));return[ze.bind(n),i]}function G(e,t,n){const i=ye(e,t,!1,U);V(i)}function He(e,t,n){Xe=vt;const i=ye(e,t,!1,U);(!n||!n.render)&&(i.user=!0),F?F.push(i):V(i)}function K(e,t,n){n=n?Object.assign({},se,n):se;const i=ye(e,t,!0,0);return i.observers=null,i.observerSlots=null,i.comparator=n.equals||void 0,V(i),ze.bind(i)}function X(e){if(p===null)return e();const t=p;p=null;try{return e()}finally{p=t}}function dt(e){He(()=>X(e))}function ht(e){return C===null||(C.cleanups===null?C.cleanups=[e]:C.cleanups.push(e)),e}function ze(){if(this.sources&&this.state)if(this.state===U)V(this);else{const e=P;P=null,Y(()=>ce(this),!1),P=e}if(p){const e=this.observers?this.observers.length:0;p.sources?(p.sources.push(this),p.sourceSlots.push(e)):(p.sources=[this],p.sourceSlots=[e]),this.observers?(this.observers.push(p),this.observerSlots.push(p.sources.length-1)):(this.observers=[p],this.observerSlots=[p.sources.length-1])}return this.value}function Je(e,t,n){let i=e.value;return(!e.comparator||!e.comparator(i,t))&&(e.value=t,e.observers&&e.observers.length&&Y(()=>{for(let r=0;r<e.observers.length;r+=1){const s=e.observers[r],l=ge&&ge.running;l&&ge.disposed.has(s),(l?!s.tState:!s.state)&&(s.pure?P.push(s):F.push(s),s.observers&&Ge(s)),l||(s.state=U)}if(P.length>1e6)throw P=[],new Error},!1)),t}function V(e){if(!e.fn)return;he(e);const t=de;mt(e,e.value,t)}function mt(e,t,n){let i;const r=C,s=p;p=C=e;try{i=e.fn(t)}catch(l){return e.pure&&(e.state=U,e.owned&&e.owned.forEach(he),e.owned=null),e.updatedAt=n+1,Ke(l)}finally{p=s,C=r}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Je(e,i):e.value=i,e.updatedAt=n)}function ye(e,t,n,i=U,r){const s={fn:e,state:i,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:C,context:C?C.context:null,pure:n};return C===null||C!==Ue&&(C.owned?C.owned.push(s):C.owned=[s]),s}function le(e){if(e.state===0)return;if(e.state===oe)return ce(e);if(e.suspense&&X(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<de);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===U)V(e);else if(e.state===oe){const i=P;P=null,Y(()=>ce(e,t[0]),!1),P=i}}function Y(e,t){if(P)return e();let n=!1;t||(P=[]),F?n=!0:F=[],de++;try{const i=e();return gt(n),i}catch(i){n||(F=null),P=null,Ke(i)}}function gt(e){if(P&&(qe(P),P=null),e)return;const t=F;F=null,t.length&&Y(()=>Xe(t),!1)}function qe(e){for(let t=0;t<e.length;t++)le(e[t])}function vt(e){let t,n=0;for(t=0;t<e.length;t++){const i=e[t];i.user?e[n++]=i:le(i)}for(t=0;t<n;t++)le(e[t])}function ce(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const i=e.sources[n];if(i.sources){const r=i.state;r===U?i!==t&&(!i.updatedAt||i.updatedAt<de)&&le(i):r===oe&&ce(i,t)}}}function Ge(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=oe,n.pure?P.push(n):F.push(n),n.observers&&Ge(n))}}function he(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),i=e.sourceSlots.pop(),r=n.observers;if(r&&r.length){const s=r.pop(),l=n.observerSlots.pop();i<r.length&&(s.sourceSlots[l]=i,r[i]=s,n.observerSlots[i]=l)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)he(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function bt(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Ke(e,t=C){throw bt(e)}const $t=Symbol("fallback");function Oe(e){for(let t=0;t<e.length;t++)e[t]()}function _t(e,t,n={}){let i=[],r=[],s=[],l=0,o=t.length>1?[]:null;return ht(()=>Oe(s)),()=>{let u=e()||[],g,c;return u[at],X(()=>{let _=u.length,f,w,$,A,L,a,S,T,x;if(_===0)l!==0&&(Oe(s),s=[],i=[],r=[],l=0,o&&(o=[])),n.fallback&&(i=[$t],r[0]=re(b=>(s[0]=b,n.fallback())),l=1);else if(l===0){for(r=new Array(_),c=0;c<_;c++)i[c]=u[c],r[c]=re(y);l=_}else{for($=new Array(_),A=new Array(_),o&&(L=new Array(_)),a=0,S=Math.min(l,_);a<S&&i[a]===u[a];a++);for(S=l-1,T=_-1;S>=a&&T>=a&&i[S]===u[T];S--,T--)$[T]=r[S],A[T]=s[S],o&&(L[T]=o[S]);for(f=new Map,w=new Array(T+1),c=T;c>=a;c--)x=u[c],g=f.get(x),w[c]=g===void 0?-1:g,f.set(x,c);for(g=a;g<=S;g++)x=i[g],c=f.get(x),c!==void 0&&c!==-1?($[c]=r[g],A[c]=s[g],o&&(L[c]=o[g]),c=w[c],f.set(x,c)):s[g]();for(c=a;c<_;c++)c in $?(r[c]=$[c],s[c]=A[c],o&&(o[c]=L[c],o[c](c))):r[c]=re(y);r=r.slice(0,l=_),i=u.slice(0)}return r});function y(_){if(s[c]=_,o){const[f,w]=E(c);return o[c]=w,t(u[c],f)}return t(u[c])}}}function R(e,t){return X(()=>e(t||{}))}const yt=e=>`Stale read from <${e}>.`;function be(e){const t="fallback"in e&&{fallback:()=>e.fallback};return K(_t(()=>e.each,e.children,t||void 0))}function wt(e){const t=e.keyed,n=K(()=>e.when,void 0,{equals:(i,r)=>t?i===r:!i==!r});return K(()=>{const i=n();if(i){const r=e.children;return typeof r=="function"&&r.length>0?X(()=>r(t?i:()=>{if(!X(n))throw yt("Show");return e.when})):r}return e.fallback},void 0,void 0)}function pt(e,t,n){let i=n.length,r=t.length,s=i,l=0,o=0,u=t[r-1].nextSibling,g=null;for(;l<r||o<s;){if(t[l]===n[o]){l++,o++;continue}for(;t[r-1]===n[s-1];)r--,s--;if(r===l){const c=s<i?o?n[o-1].nextSibling:n[s-o]:u;for(;o<s;)e.insertBefore(n[o++],c)}else if(s===o)for(;l<r;)(!g||!g.has(t[l]))&&t[l].remove(),l++;else if(t[l]===n[s-1]&&n[o]===t[r-1]){const c=t[--r].nextSibling;e.insertBefore(n[o++],t[l++].nextSibling),e.insertBefore(n[--s],c),t[r]=n[s]}else{if(!g){g=new Map;let y=o;for(;y<s;)g.set(n[y],y++)}const c=g.get(t[l]);if(c!=null)if(o<c&&c<s){let y=l,_=1,f;for(;++y<r&&y<s&&!((f=g.get(t[y]))==null||f!==c+_);)_++;if(_>c-o){const w=t[l];for(;o<c;)e.insertBefore(n[o++],w)}else e.replaceChild(n[o++],t[l++])}else l++;else t[l++].remove()}}}const Ne="_$DX_DELEGATE";function St(e,t,n,i={}){let r;return re(s=>{r=s,t===document?e():j(t,e(),t.firstChild?null:void 0,n)},i.owner),()=>{r(),t.textContent=""}}function J(e,t,n){let i;const r=()=>{const l=document.createElement("template");return l.innerHTML=e,n?l.content.firstChild.firstChild:l.content.firstChild},s=t?()=>X(()=>document.importNode(i||(i=r()),!0)):()=>(i||(i=r())).cloneNode(!0);return s.cloneNode=s,s}function we(e,t=window.document){const n=t[Ne]||(t[Ne]=new Set);for(let i=0,r=e.length;i<r;i++){const s=e[i];n.has(s)||(n.add(s),t.addEventListener(s,Tt))}}function I(e,t){t==null?e.removeAttribute("class"):e.className=t}function ue(e,t,n,i){if(i)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const r=n[0];e.addEventListener(t,n[0]=s=>r.call(e,n[1],s))}else e.addEventListener(t,n)}function Me(e,t,n){return X(()=>e(t,n))}function j(e,t,n,i){if(n!==void 0&&!i&&(i=[]),typeof t!="function")return fe(e,t,i,n);G(r=>fe(e,t(),r,n),i)}function Tt(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const i=n[t];if(i&&!n.disabled){const r=n[`${t}Data`];if(r!==void 0?i.call(n,r,e):i.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function fe(e,t,n,i,r){for(;typeof n=="function";)n=n();if(t===n)return n;const s=typeof t,l=i!==void 0;if(e=l&&n[0]&&n[0].parentNode||e,s==="string"||s==="number")if(s==="number"&&(t=t.toString()),l){let o=n[0];o&&o.nodeType===3?o.data=t:o=document.createTextNode(t),n=q(e,n,i,o)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t;else if(t==null||s==="boolean")n=q(e,n,i);else{if(s==="function")return G(()=>{let o=t();for(;typeof o=="function";)o=o();n=fe(e,o,n,i)}),()=>n;if(Array.isArray(t)){const o=[],u=n&&Array.isArray(n);if($e(o,t,n,r))return G(()=>n=fe(e,o,n,i,!0)),()=>n;if(o.length===0){if(n=q(e,n,i),l)return n}else u?n.length===0?Ie(e,o,i):pt(e,n,o):(n&&q(e),Ie(e,o));n=o}else if(t.nodeType){if(Array.isArray(n)){if(l)return n=q(e,n,i,t);q(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function $e(e,t,n,i){let r=!1;for(let s=0,l=t.length;s<l;s++){let o=t[s],u=n&&n[s],g;if(!(o==null||o===!0||o===!1))if((g=typeof o)=="object"&&o.nodeType)e.push(o);else if(Array.isArray(o))r=$e(e,o,u)||r;else if(g==="function")if(i){for(;typeof o=="function";)o=o();r=$e(e,Array.isArray(o)?o:[o],Array.isArray(u)?u:[u])||r}else e.push(o),r=!0;else{const c=String(o);u&&u.nodeType===3&&u.data===c?e.push(u):e.push(document.createTextNode(c))}}return r}function Ie(e,t,n=null){for(let i=0,r=t.length;i<r;i++)e.insertBefore(t[i],n)}function q(e,t,n,i){if(n===void 0)return e.textContent="";const r=i||document.createTextNode("");if(t.length){let s=!1;for(let l=t.length-1;l>=0;l--){const o=t[l];if(r!==o){const u=o.parentNode===e;!s&&!l?u?e.replaceChild(r,o):e.insertBefore(r,n):u&&o.remove()}else s=!0}}else e.insertBefore(r,n);return[r]}var ie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ct="Expected a function",je=NaN,xt="[object Symbol]",Et=/^\s+|\s+$/g,At=/^[-+]0x[0-9a-f]+$/i,Pt=/^0b[01]+$/i,Lt=/^0o[0-7]+$/i,Ot=parseInt,Nt=typeof ie=="object"&&ie&&ie.Object===Object&&ie,Mt=typeof self=="object"&&self&&self.Object===Object&&self,It=Nt||Mt||Function("return this")(),jt=Object.prototype,Bt=jt.toString,Dt=Math.max,Wt=Math.min,ve=function(){return It.Date.now()};function Rt(e,t,n){var i,r,s,l,o,u,g=0,c=!1,y=!1,_=!0;if(typeof e!="function")throw new TypeError(Ct);t=Be(t)||0,_e(n)&&(c=!!n.leading,y="maxWait"in n,s=y?Dt(Be(n.maxWait)||0,t):s,_="trailing"in n?!!n.trailing:_);function f(b){var O=i,B=r;return i=r=void 0,g=b,l=e.apply(B,O),l}function w(b){return g=b,o=setTimeout(L,t),c?f(b):l}function $(b){var O=b-u,B=b-g,H=t-O;return y?Wt(H,s-B):H}function A(b){var O=b-u,B=b-g;return u===void 0||O>=t||O<0||y&&B>=s}function L(){var b=ve();if(A(b))return a(b);o=setTimeout(L,$(b))}function a(b){return o=void 0,_&&i?f(b):(i=r=void 0,l)}function S(){o!==void 0&&clearTimeout(o),g=0,i=u=r=o=void 0}function T(){return o===void 0?l:a(ve())}function x(){var b=ve(),O=A(b);if(i=arguments,r=this,u=b,O){if(o===void 0)return w(u);if(y)return o=setTimeout(L,t),f(u)}return o===void 0&&(o=setTimeout(L,t)),l}return x.cancel=S,x.flush=T,x}function _e(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Ft(e){return!!e&&typeof e=="object"}function Xt(e){return typeof e=="symbol"||Ft(e)&&Bt.call(e)==xt}function Be(e){if(typeof e=="number")return e;if(Xt(e))return je;if(_e(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=_e(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(Et,"");var n=Pt.test(e);return n||Lt.test(e)?Ot(e.slice(2),n?2:8):At.test(e)?je:+e}var Ut=Rt;const Ht=kt(Ut);function Qe(e,t){const n=Math.floor(e),i=Math.floor((e-n)*60);return n&&i||t!=null&&t.full?`${n}h ${i}m`:n===0?`${i}m`:`${n}h`}function Ve(e,t){const n=Math.floor(e),i=Math.floor((e-n)*60),r=n.toString().padStart(2,"0"),s=i.toString().padStart(2,"0");if(t!=null&&t.seconds){const o=Math.floor((e-n-i/60)*60*60).toString().padStart(2,"0");return`${r}:${s}:${o}`}else return`${r}:${s}`}const zt="_block_1gr8m_1",Jt="_moving_1gr8m_13",qt="_handleTarget_1gr8m_17",Gt="_handle_1gr8m_17",Kt="_resizing_1gr8m_35",Qt="_time_1gr8m_42",Vt="_name_1gr8m_43",z={block:zt,moving:Jt,handleTarget:qt,handle:Gt,resizing:Kt,time:Qt,name:Vt},Yt=J("<div><span></span><div><div></div></div><span>");function De(e,t){return Math.round(e/t)*t}function Zt(e){const[t,n]=E(!1),[i,r]=E(!1),[s,l]=E({startPos:0,startX:0}),[o,u]=E({startWidth:0,startX:0});function g(f){f.buttons===2?e.onCycleColor():(l({startPos:e.pos,startX:f.clientX}),n(!0),e.onStartChange())}function c(f){f.stopPropagation(),u({startWidth:e.width,startX:f.clientX}),r(!0),e.onStartChange()}function y(f){if(t()){const{startPos:w,startX:$}=s(),A=Math.min(e.maxPos,Math.max(0,w+f.clientX-$));e.onChange(De(A,e.step),e.width)}else if(i()){const{startWidth:w,startX:$}=o(),A=Math.min(e.maxWidth,Math.max(e.step,w+f.clientX-$));e.onChange(e.pos,De(A,e.step))}}function _(){n(!1),r(!1)}return window.addEventListener("pointerup",_),window.addEventListener("pointermove",y),(()=>{const f=Yt(),w=f.firstChild,$=w.nextSibling,A=$.firstChild,L=$.nextSibling;return ue(f,"dblclick",e.onRemove,!0),ue(f,"pointermove",e.onHover,!0),f.$$pointerdown=g,j(w,()=>e.name),j(f,(()=>{const a=K(()=>e.duration>.25);return()=>a()?Qe(e.duration):""})(),$),$.$$pointerdown=a=>a.stopPropagation(),A.$$pointerdown=c,j(L,()=>Ve(e.start)),G(a=>{const S=`${z.block} ${t()?z.moving:""} ${i()?z.resizing:""}`,T=`${e.pos}px`,x=`${e.width}px`,b=e.color,O=z.name,B=z.handleTarget,H=z.handle,Z=z.time;return S!==a._v$&&I(f,a._v$=S),T!==a._v$2&&((a._v$2=T)!=null?f.style.setProperty("left",T):f.style.removeProperty("left")),x!==a._v$3&&((a._v$3=x)!=null?f.style.setProperty("width",x):f.style.removeProperty("width")),b!==a._v$4&&((a._v$4=b)!=null?f.style.setProperty("background-color",b):f.style.removeProperty("background-color")),O!==a._v$5&&I(w,a._v$5=O),B!==a._v$6&&I($,a._v$6=B),H!==a._v$7&&I(A,a._v$7=H),Z!==a._v$8&&I(L,a._v$8=Z),a},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0}),f})()}we(["pointerdown","pointermove","dblclick"]);const en="_timelineContainer_1v3ib_1",tn="_timeline_1v3ib_1",nn="_display_1v3ib_15",rn="_fullscreen_1v3ib_20",sn="_currentTask_1v3ib_26",on="_nextTaskContainer_1v3ib_31",ln="_tick_1v3ib_36",cn="_nowLine_1v3ib_49",un="_buttons_1v3ib_53",W={timelineContainer:en,timeline:tn,display:nn,fullscreen:rn,currentTask:sn,nextTaskContainer:on,tick:ln,nowLine:cn,buttons:un},fn=J("<div>"),an=J("<div><div><div></div><div><div></div><div></div><div><div></div><div></div></div></div></div><div><button>fullscreen</button><button> early</button><button>duplicate"),dn=J("<button>cancel"),hn=J("<button>confirm"),mn=J("<button>delete"),Q=["hsl(0, 60%, 30%)","hsl(60, 60%, 30%)","hsl(120, 60%, 30%)","hsl(180, 60%, 30%)","hsl(240, 60%, 30%)","hsl(300, 60%, 30%)"];let We=0;function Re(e){return(()=>{const t=fn();return j(t,()=>e.hour),G(n=>{const i=`${W.tick} ${e.class?e.class:""}`,r=`${e.pos}px`;return i!==n._v$&&I(t,n._v$=i),r!==n._v$2&&((n._v$2=r)!=null?t.style.setProperty("left",r):t.style.removeProperty("left")),n},{_v$:void 0,_v$2:void 0}),t})()}function Fe(e){return Math.round(e*4)/4}function gn(e){return Math.floor(e*4)/4}function vn(e){let t,n;const[i,r]=E(0),[s,l]=E(0),[o,u]=E(),[g,c]=E(),[y,_]=E(0),[f,w]=E(!1),[$,A]=E(0),[L,a]=E(!1),[S,T]=e.blocks,x=()=>e.endHour-$(),b=()=>i()/x();function O(){r(t.clientWidth),ee()}window.addEventListener("resize",O),dt(O);function B(h){T(d=>[...d.filter(k=>k!==h),h])}function H(h,d,m){const[k,M]=h;M({...k(),start:Fe(d/b()+$()),duration:Fe(m/b())}),ee()}function Z(h){T(d=>d.filter(m=>m!==h))}function Ye(h){const[d,m]=h;m({...d(),color:Q[(Q.indexOf(d().color)+1)%Q.length]})}function Ze(h){const[d]=h,m=()=>(d().start-$())*b(),k=()=>d().duration*b();return R(Zt,{get id(){return d().id},get step(){return b()/4},get name(){return d().name},get start(){return d().start},get duration(){return d().duration},get color(){return d().color},get pos(){return m()},get width(){return k()},get maxPos(){return i()-k()},get maxWidth(){return i()-m()},onStartChange:()=>B(h),onHover:()=>B(h),onChange:(M,D)=>H(h,M,D),onRemove:()=>Z(h),onCycleColor:()=>Ye(h)})}function et(h){let d;for(const m of S()){const[k]=m;k().start>h&&(!d||k().start<d.start)&&(d=k())}return d}function tt(h){for(const d of S()){const[m]=d;if(m().start<=h&&m().start+m().duration>h)return m()}}function ee(){const h=new Date,d=h.getHours(),m=h.getMinutes(),k=h.getSeconds(),M=d+m/60+k/60/60,D=(M-$())/(24-$())*i();l(D),_(M),u(et(M)),c(tt(M))}setInterval(ee,1e3);function nt(h){let[,d,m]=h.trim().match(/(.+) ([0-9.]+)/i)||[];d||(d=h.trim());const k=m!=null&&m.trim()?m==="15"?.25:m==="30"?.5:parseFloat(m):1;return[d,k]}function it(h,d){if(!h)return;const[m,k]=nt(h),M=We++,D=Q[M%Q.length];T(te=>[...te,E({id:We,name:m,start:d,duration:k,color:D})])}function rt(h=0){it(prompt(),h)}function st(){n.requestFullscreen()}function ot(){A($()===0?6:0),ee()}return document.addEventListener("fullscreenchange",()=>{a(document.fullscreenElement===n)}),(()=>{const h=an(),d=h.firstChild,m=d.firstChild,k=m.nextSibling,M=k.firstChild,D=M.nextSibling,te=D.nextSibling,pe=te.firstChild,lt=pe.nextSibling,me=d.nextSibling,Se=me.firstChild,ne=Se.nextSibling,ct=ne.firstChild,ut=ne.nextSibling,Te=n;typeof Te=="function"?Me(Te,d):n=d,m.$$pointerdown=v=>{v.target===v.currentTarget&&v.buttons===2&&rt(gn(v.offsetX/i()*(24-$())+$()))},m.$$contextmenu=v=>v.preventDefault();const ke=t;return typeof ke=="function"?Me(ke,m):t=m,j(m,R(wt,{get when(){return i()!==0},get children(){return[R(be,{get each(){return Array.from({length:x()})},children:(v,N)=>R(Re,{get hour(){return N()+$()},get pos(){return N()*b()}})}),R(be,{get each(){return S()},children:Ze}),R(Re,{get pos(){return s()},get class(){return W.nowLine}})]}})),j(M,()=>Ve(y(),{seconds:!0})),j(D,()=>{var v;return(v=g())==null?void 0:v.name}),j(pe,()=>{var v;return(v=o())==null?void 0:v.name}),j(lt,(()=>{const v=K(()=>!!o());return()=>v()?Qe(o().start-y(),{full:!0}):""})()),Se.$$click=st,ne.$$click=ot,j(ne,()=>$()===0?"hide":"show",ct),ue(ut,"click",e.onDuplicate,!0),j(me,(()=>{const v=K(()=>!!f());return()=>v()?[(()=>{const N=dn();return N.$$click=()=>w(!1),N})(),(()=>{const N=hn();return ue(N,"click",e.onDelete,!0),N})()]:(()=>{const N=mn();return N.$$click=()=>w(!0),N})()})(),null),G(v=>{const N=W.timelineContainer,Ce=L()?W.fullscreen:"",xe=W.timeline,Ee=W.display,Ae=W.currentTask,Pe=W.nextTaskContainer,Le=W.buttons;return N!==v._v$3&&I(h,v._v$3=N),Ce!==v._v$4&&I(d,v._v$4=Ce),xe!==v._v$5&&I(m,v._v$5=xe),Ee!==v._v$6&&I(k,v._v$6=Ee),Ae!==v._v$7&&I(D,v._v$7=Ae),Pe!==v._v$8&&I(te,v._v$8=Pe),Le!==v._v$9&&I(me,v._v$9=Le),v},{_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0}),h})()}we(["contextmenu","pointerdown","click"]);const bn=J("<button>add timeline");function $n(e){return e.map(t=>E(t))}function ae(e){return{blocks:E($n(e))}}function _n(){const t=new URLSearchParams(window.location.search).get("timelines");return t?JSON.parse(atob(t)).map(i=>ae(i.blocks)):[ae([])]}function yn(e){const t=e.map(n=>{const[i]=n.blocks;return{blocks:i().map(([s])=>s())}});return JSON.stringify(t)}const wn=Ht(e=>{history.replaceState({},"",`?timelines=${e}`)},100);function pn(){const e=_n(),[t,n]=E(e);function i(){n([...t(),ae([])])}function r(l){n(t().filter(o=>o!==l))}function s(l){const[o]=l.blocks,u=o().map(([c])=>({...c()})),g=ae(u);n([...t(),g])}return He(()=>{const l=encodeURIComponent(btoa(yn(t())));wn(l)}),[(()=>{const l=bn();return l.$$click=i,l})(),R(be,{get each(){return t()},children:l=>R(vn,{endHour:24,get blocks(){return l.blocks},onDelete:()=>r(l),onDuplicate:()=>s(l)})})]}we(["click"]);const Sn=document.getElementById("root");St(()=>R(pn,{}),Sn);
